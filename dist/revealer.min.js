/*! revealer v0.1.1 | (c) 2015 Pete Redmond |  */
!function(){"use strict";function e(e){function n(n,l,s){if(!n.topimage&&!n.topImage||!n.bottomimage&&!n.bottomImage)throw Error("please provide a valid path for the top and bottom image attributes on the revealer directive");var m=!isNaN(parseInt(n.startPosition,10))&&n.startPosition<100,c=n.startPosition=m?parseInt(n.startPosition,10):50;e.ready(function(){function n(e){e.preventDefault();var a,r="mousemove"===e.type?e:e.changedTouches[0],n=o(r,g);n.x+=_,n.x<0||n.x>g.width||(a=n.x/g.width*100,t(m,v,a))}function s(t,a){m.removeClass(d),e.off(t.move,n),e.off(t.release,s)}var m=a(l,".revealer__handle"),v=a(l,".revealer__top-image"),u=a(l,".revealer__container"),d="revealer__handle--drag";t(m,v,c);var g,p,_=0;angular.forEach(i,function(t){m.on(t.action,function(a){var i;m.addClass(d),g=r(u),p=r(m),i=o(a,p).x,_=i>p.width/2?-(i-p.width/2):p.width/2-i,e.on(t.move,n),e.on(t.release,s.bind(null,t))})})})}return{restrcit:"E",template:['<div class="revealer__container">','<img class="revealer__image" ng-src="{{bottomimage || bottomImage}}">','<span class="revealer__label revealer__label--right">{{bottomlabel || bottomLabel}}</span>','<div class="revealer__top-image">','<img class="revealer__image" ng-src="{{topimage || topImage}}">','<span class="revealer__label revealer__label--left">{{toplabel || topLabel}}</span>',"</div>",'<span class="revealer__handle"></span>',"</div>"].join(""),scope:{bottomlabel:"@",bottomLabel:"@",toplabel:"@",topLabel:"@",bottomimage:"@",bottomImage:"@",topimage:"@",topImage:"@",startPosition:"@"},link:n}}function t(e,t,a){e.css({left:n(a)}),t.css({width:n(a)})}function a(e,t){return angular.element(e[0].querySelector(t))}function o(e,t){return{x:e.clientX-t.left}}function r(e){return e[0].getBoundingClientRect()}function n(e){return e+"%"}angular.module("revealer",[]).directive("revealer",e);var i=[{action:"mousedown",move:"mousemove",release:"mouseup"},{action:"touchstart",move:"touchmove",release:"touchend"}];e.$inject=["$document"]}();