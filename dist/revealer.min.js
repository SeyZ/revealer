/*! revealer v0.0.2 | (c) 2015 Pete Redmond |  */
!function(){"use strict";function e(e){function n(n,i,s){if(!n.topimage||!n.bottomimage)throw Error("please provide a valid path for the top and bottom image attributes on the revealer directive");var c=!isNaN(parseInt(n.startPosition,10))&&n.startPosition<100,u=n.startPosition=c?parseInt(n.startPosition,10):50;angular.element(document).ready(function(){function n(e){e.preventDefault();var a,o="mousemove"===e.type?e:e.changedTouches[0],n=r(o,_);n.x<0||n.x>_.width||(a=n.x/_.width*100,t(c,v,a))}function s(t,a){c.removeClass(d),e.off(t.move,n),e.off(t.release,s)}var c=a(i,".revealer__handle"),v=a(i,".revealer__top-image"),m=a(i,".revealer__container"),d="revealer__handle--drag";t(c,v,u);var _,f;angular.forEach(l,function(t){c.on(t.action,function(a){c.addClass(d),_=o(m),f=o(c),e.on(t.move,n),e.on(t.release,s.bind(null,t))})})})}return{restrcit:"E",template:['<div class="revealer__container">','<img class="revealer__image" ng-src="{{bottomimage}}">','<span class="revealer__label revealer__label--right">{{bottomlabel}}</span>','<div class="revealer__top-image">','<img class="revealer__image" ng-src="{{topimage}}">','<span class="revealer__label revealer__label--left">{{toplabel}}</span>',"</div>",'<span class="revealer__handle"></span>',"</div>"].join(""),scope:{bottomlabel:"@",toplabel:"@",bottomimage:"@",topimage:"@",startPosition:"@"},link:n}}function t(e,t,a){e.css({left:n(a)}),t.css({width:n(a)})}function a(e,t){return angular.element(e[0].querySelector(t))}function r(e,t){return{x:e.clientX-t.left}}function o(e){return e[0].getBoundingClientRect()}function n(e){return e+"%"}angular.module("revealer",[]).directive("revealer",e);var l=[{action:"mousedown",move:"mousemove",release:"mouseup"},{action:"touchstart",move:"touchmove",release:"touchend"}];e.$inject=["$document"]}();