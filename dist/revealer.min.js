/*! revealer v0.1.3 | (c) 2015 Pete Redmond |  */
!function(){"use strict";function e(e){function n(n,i,s){if(!n.topimage&&!n.topImage||!n.bottomimage&&!n.bottomImage)throw Error("please provide a valid path for the top and bottom image attributes on the revealer directive");var m=!isNaN(parseInt(n.startPosition,10))&&n.startPosition<100,c=n.startPosition=m?parseInt(n.startPosition,10):50;e.ready(function(){function s(e){e.preventDefault();var a,r="mousemove"===e.type?e:e.changedTouches[0],n=o(r,d);n.x+=b,n.x<0||n.x>d.width||(a=n.x/d.width*100,t(v,u,a))}function m(t){var a=t.type===l[0].release?0:1,o=l[a];n.onComplete&&n.onComplete(),v.removeClass(g),e.off(o.move,s),e.off(o.release,m)}var v=a(i,".revealer__handle"),u=a(i,".revealer__top-image"),p=a(i,".revealer__container"),g="revealer__handle--drag";t(v,u,c);var d,_,b=0;angular.forEach(l,function(t){v.on(t.action,function(a){var n;v.addClass(g),d=r(p),_=r(v),n=o(a,_).x,b=n>_.width/2?-(n-_.width/2):_.width/2-n,e.on(t.move,s),e.on(t.release,m)})})})}return{restrcit:"E",template:['<div class="revealer__container">','<img class="revealer__image" ng-src="{{bottomimage || bottomImage}}">','<span class="revealer__label revealer__label--right">{{bottomlabel || bottomLabel}}</span>','<div class="revealer__top-image">','<img class="revealer__image" ng-src="{{topimage || topImage}}">','<span class="revealer__label revealer__label--left">{{toplabel || topLabel}}</span>',"</div>",'<span class="revealer__handle"></span>',"</div>"].join(""),scope:{bottomlabel:"@",bottomLabel:"@",toplabel:"@",topLabel:"@",bottomimage:"@",bottomImage:"@",topimage:"@",topImage:"@",startPosition:"@",onComplete:"&"},link:n}}function t(e,t,a){e.css({left:n(a)}),t.css({width:n(a)})}function a(e,t){return angular.element(e[0].querySelector(t))}function o(e,t){return{x:e.clientX-t.left}}function r(e){return e[0].getBoundingClientRect()}function n(e){return e+"%"}angular.module("revealer",[]).directive("revealer",e);var l=[{action:"mousedown",move:"mousemove",release:"mouseup"},{action:"touchstart",move:"touchmove",release:"touchend"}];e.$inject=["$document"]}();